# 项目概述

> 当前版本: ver 0.10-beta

本文档记录 CwtshTodo 项目的基本信息、核心功能和技术栈。

---

## [O01].[项目基础信息]

### [O01a].[项目名称]：CwtshTodo

### [O01b].[项目启发]：

灵感来自为神经多样性人群（ADHD）设计一款轻量化、无 AI 依赖的可视化日程管理工具。通过将抽象的时间管理转化为低认知负荷的可视化体验，帮助用户更好地管理时间和任务。

### [O01c].[项目类型]：网页应用 / 移动端应用 / 时间管理工具 / PWA

### [O01d].[一句话简介]：

CwtshTodo 是一款面向**神经多样性人群（ADHD）**设计的**纯网页端可视化日程管理工具**，通过轻量化的前端交互设计，将抽象的时间管理转化为低认知负荷的可视化体验。支持离线使用，数据完全存储在本地。

## [O02].[核心功能]

### [O02a].[任务管理]：完整的任务 CRUD 操作

功能说明：

- 创建/编辑/删除/完成任务
- 支持全天任务和定时任务
- 重复任务设置（日/周/月/年）
- 任务提醒（浏览器通知）
- 任务优先级设置（高/中/低）

### [O02b].[分类系统]：自定义分类管理

功能说明：

- 添加/编辑/删除分类
- 自定义分类颜色和图标
- 任务关联分类
- 按分类筛选任务

### [O02c].[多种视图]：多维度查看任务和日程

功能说明：

- Dashboard：今日概览、进度图表、分类列表
- Schedule：时间轴视图 (6:00-22:00)
- Tasks：全部任务列表 + 筛选 + 批量操作
- Calendar：月视图 + 周视图 + 日期导航
- Focus：番茄钟计时器 + 专注统计
- Habits：习惯打卡 + 连续天数 + 完成率统计
- Stats：周/月完成率 + 专注时长趋势 + 分类统计

### [O02d].[专注模式]：番茄钟计时器

功能说明：

- 番茄钟计时器（默认 25 分钟）
- 专注/短休息/长休息模式
- 任务关联专注记录
- 专注统计数据
- 白噪音背景音（白噪音/粉红噪音/布朗噪音）
- 番茄计数

### [O02e].[习惯追踪]：习惯打卡系统

功能说明：

- 添加/编辑/删除习惯
- 周打卡视图
- 连续天数统计
- 完成率计算
- 按目标日期打卡

### [O02f].[数据管理]：本地存储与备份

功能说明：

- IndexedDB 数据持久化
- 数据导出 JSON
- 数据导入恢复
- 自动备份（每日/每周）
- 保留备份数量设置

### [O02g].[报告生成]：周报/月报功能

功能说明：

- 周报生成（完成情况、专注时间、习惯统计）
- 月报生成（月度总结、趋势分析）
- 成就系统（自动生成成就徽章）
- 复制报告/分享功能

### [O02h].[任务模板]：常用任务组合

功能说明：

- 创建任务模板
- 模板管理（编辑/删除/分类）
- 从模板快速创建任务
- 默认任务模板预设

### [O02i].[键盘快捷键]：提高操作效率

功能说明：

- n-新建任务
- s-打开设置
- /-数据管理
- ?-快捷键面板
- 自定义快捷键设置
- 专注模式下禁用快捷键

### [O02j].[主题与界面]：个性化设置

功能说明：

- 浅色/深色/跟随系统主题
- 紧凑模式开关
- 响应式布局
- 移动端适配（底部导航）
- 触摸优化（滑动操作、长按菜单）

### [O02k].[PWA 支持]：离线应用

功能说明：

- Service Worker 离线缓存
- 应用清单 (manifest.json)
- 可安装到主屏幕
- 完全离线使用

## [O03].[技术栈]

### [O03a].[前端框架]：

React: 版本号 18+

- 功能：UI 组件库

TypeScript: 版本号 5.0+

- 功能：类型安全

Vite: 版本号 4.5+

- 功能：构建工具

### [O03b].[样式与交互]：

Tailwind CSS: 版本号 3.4+

- 功能：原子化 CSS 框架，响应式设计

Framer Motion: 版本号 10+

- 功能：动画库

React DnD: 版本号 16+

- 功能：拖拽交互

### [O03c].[状态管理与存储]：

Zustand: 版本号 4+

- 功能：全局状态管理

IndexedDB (idb): 版本号 7+

- 功能：本地数据持久化

dayjs: 版本号 1.11+

- 功能：日期时间处理

### [O03d].[PWA]：

vite-plugin-pwa: 版本号 0.17+

- 功能：PWA 配置与 Service Worker

Workbox: 版本号 7+

- 功能：离线缓存策略

### [O03e].[代码质量工具]：

ESLint: 版本号 8+

- 功能：代码检查

eslint-plugin-react-refresh: 版本号 0.4+

- 功能：React 组件 HMR 安全检查

## [O04].[部署环境依赖与快速启动]

### [O04a].[依赖版本]：

Node.js: 版本号 18 或更高版本

npm: 版本号 9 或更高版本（随 Node.js 安装）

### [O04b].[快速启动]：

1. 克隆项目

```
git clone https://github.com/yourusername/CwtshTodo.git
cd CwtshTodo
```

2. 安装依赖

```
npm install
```

3. 启动开发服务器

```
npm run dev
```

4. 构建生产版本

```
npm run build
```

5. 预览生产版本

```
npm run preview
```

6. 代码检查

```
npm run lint
```

7. 访问地址：http://localhost:3000/

## [O05].[其他信息]

### [O05a].[项目作者]：pyapple12

### [O05b].[仓库地址]：https://github.com/pyapple12/CwtshTodo.git

### [O05c].[许可证]：MIT License

## [O06].[可选补充]

适用场景：

- 个人时间管理与效率提升
- ADHD 用户的日常任务规划
- 习惯养成追踪
- 专注力训练（番茄钟）
- 无需登录的离线使用

注意事项：

- 数据完全存储在本地 IndexedDB
- 无后端依赖，无用户追踪
- 支持 Chrome / Firefox / Safari / Edge
- 移动端建议添加到主屏幕获得最佳体验
- 通知功能需要浏览器授权

项目特点：

- 界面语言：中文/英文
- 代码注释：英文（代码）、中文（文档）
- 纯前端，无服务器依赖
- 隐私优先设计
- ADHD 友好（高对比度、大触控目标、温和动画）

## [O07].[项目文件结构]

### [O07a].[主要目录结构]：

```
CwtshTodo/
├── src/
│   ├── main.tsx              # 应用入口
│   ├── App.tsx               # 主组件（侧边栏 + 仪表板布局）
│   ├── index.css             # 全局样式 + Tailwind + 移动端优化
│   ├── types/index.ts        # TypeScript 类型定义
│   ├── utils/db.ts           # IndexedDB 存储层
│   ├── store/index.ts        # Zustand 状态管理
│   ├── services/
│   │   └── notifications.ts  # 浏览器通知服务
│   ├── hooks/
│   │   └── useKeyboardShortcuts.ts # 键盘快捷键
│   └── components/
│       ├── Sidebar.tsx       # 左侧导航栏（桌面端）
│       ├── BottomNav.tsx     # 底部导航栏（移动端）
│       ├── Dashboard.tsx     # 仪表板布局
│       ├── ProgressChart.tsx # 渐变进度条
│       ├── CategoryList.tsx  # 分类列表
│       ├── CategoryManage.tsx # 分类管理弹窗
│       ├── CalendarCard.tsx  # 月历组件
│       ├── RingTimer.tsx     # 环形计时器
│       ├── TaskList.tsx      # 任务列表
│       ├── TaskForm.tsx      # 任务表单
│       ├── TaskCard.tsx      # 任务卡片
│       ├── SearchBox.tsx     # 搜索框
│       ├── Settings.tsx      # 设置页面
│       ├── DataManagement.tsx # 数据导入导出
│       ├── DnDProvider.tsx   # 拖拽上下文
│       ├── DraggableTaskCard.tsx # 可拖拽任务卡片
│       ├── SwipeableTaskCard.tsx # 滑动任务卡片
│       ├── ContextMenu.tsx   # 右键/长按菜单
│       ├── ScheduleView.tsx  # Schedule 页面（时间轴视图）
│       ├── AllTasks.tsx      # Tasks 页面（全部任务列表）
│       ├── FocusMode.tsx     # Focus 专注模式（番茄钟）
│       ├── FullCalendar.tsx  # Calendar 完整日历
│       ├── Habits.tsx        # Habits 习惯追踪
│       ├── Stats.tsx         # Stats 数据统计
│       ├── Reports.tsx       # 报告生成
│       ├── TaskTemplates.tsx # 任务模板
│       ├── Loading.tsx       # 加载状态组件
│       ├── ShortcutsModal.tsx # 快捷键面板
│       └── ...
├── public/
│   └── icons/                # PWA 图标
├── workingboard/             # 项目文档
│   ├── 1. Overview.md        # 项目概述
│   ├── 2. Missions.md        # 任务列表
│   ├── 3. Problems.md        # 问题集
│   ├── 4. FurtherPlans.md    # 路线图
│   ├── 5. Archive.md         # 归档任务
│   ├── 6. Commands.md        # 命令参考
│   └── Guidelines/           # 指南文档
├── package.json
├── tsconfig.json
├── vite.config.ts            # Vite + PWA 配置
├── tailwind.config.js        # Tailwind 响应式配置
├── .gitignore
└── README.md
```

### [O07b].[核心文件说明]：

| 文件                  | 说明                                                                   |
| --------------------- | ---------------------------------------------------------------------- |
| src/types/index.ts    | TypeScript 接口定义 (Task, Category, Reminder, FocusSession, Habit 等) |
| src/store/index.ts    | Zustand 状态管理 store                                                 |
| src/utils/db.ts       | IndexedDB 存储层封装                                                   |
| src/App.tsx           | 主应用组件                                                             |
| src/components/\*.tsx | 各功能组件                                                             |
